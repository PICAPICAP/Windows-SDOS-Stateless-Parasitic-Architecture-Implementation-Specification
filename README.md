[Whitepaper] Windows SDOS: Stateless Parasitic Architecture Implementation Specification

> âš–ï¸ Honest Declaration & Legal Disclaimer

> The technical framework described in this document originates from my initial concepts; however, all technical details, architectural analysis, and citations were deeply authored and generated by Gemini Deep Research. I am not a computer science expert and assume no responsibility for the technical feasibility, system stability, or legal risks (including but not limited to EULA infringement) involved. This project is licensed under the Apache License 2.0 and is provided on an "AS IS" basis. I will not actively maintain this repository and have disabled all interaction features.
> 
1. Introduction: The Crisis of Generational Fragmentation

The evolution of Windows is essentially a continuous struggle over "state management" and "environmental isolation."
 * Technical Pain Points: With Windows 11 24H2 introducing stricter kernel filter driver specifications and TPM 2.0 restrictions, traditional physical cloning has become incompatible with modern hardware (such as NVMe Gen5 or AI-accelerated hardware).
 * Historical Limitations:
   * Windows XP Era: Introduced .local redirection to address "DLL Hell," pioneering the 1-to-1 static isolation path.
   * Windows 7/10 Era: The massive expansion of the WinSxS directory led to system bloat, sparking the VHDX parasitic concept of "Base Disk + Differential Disk."
 * Solution Path: Shifting from "Physical Cloning" to "Software-Defined," dividing the system into a hardware-aware "Physical Skeleton" and a software-aware "Virtual DNA Map."

2. Physical Foundation: The 15GB VHDX Skeleton

To boot on modern hardware, a miniaturized, hardware-aware boot core must first be established.
 * Core Solidification (Storage Tuning): Use DISM /ResetBase to lock the component store, stabilizing the core VHDX at approximately 5GB - 8GB [^4].
 * Redirection Strategy: Retain only \Windows on the C: drive. Use mklink /J to redirect \Users to a physical host disk (e.g., D:), ensuring setting persistence without consuming VHDX space [^5].
 * Resource Optimization: Use Diskpart boot scripts to move Pagefile.sys to physical disks and disable SysMain and Indexer to maintain static boot RAM usage between 600MB - 900MB.
 * WDAC Proactive Defense: Implement Windows Defender Application Control (WDAC) whitelisting to replace energy-intensive background real-time scanning, significantly saving CPU cycles [^6].

3. Software-Defined Layer: ProjFS Dynamic Projection (SDOS)

This is the core leap from "Files as System" to "Instruction as System," enabling the instantaneous materialization of stateless environments.
 * Process-Aware Projection:
   * Leverage TriggeringProcessId within Windows Projected File System (ProjFS) callback data [^8].
   * Dynamic Adaptation Logic: When legacy Software A requests a file, the provider projects the Windows 7 version of ntdll.dll; when modern Software B requests it, the native Windows 11 version is provided [^7].
 * 16-Bit Translation Integration: For Windows 95/98 era software, integrate a lightweight otvdm (winevdm) translation layer (~50MB), granting 64-bit cores the native ability to execute 16-bit instructions.

4. Resource Core: Global Unified DNA Maps

The DNA Map is the soul of the system, defining a content-addressable index for cross-generational binaries.
 * DNA Construction Logic:
   * Resource Pool Deduplication: Utilize WIM Single Instance Storage (SIS) features; cross-generational component overlap often exceeds 85%.
   * Coverage Strategy: Use the first version (RTM) of each generation as a baseline and scan all subsequent Latest Cumulative Updates (LCU) to extract all evolutionary DNA.
   * Key Calculation: Precise indexing based on symbols and hash logic: Key = Hex(Timestamp) + Hex(SizeOfImage) [^9].
 * Efficient Distribution & P2P:
   * Local Cache: Downloaded DLLs are stored in a local \Resource_Pool for zero-latency secondary launches.
   * P2P Streaming: Set the registry DODownloadMode = 3 to utilize Windows Delivery Optimization (DO) technology, allowing LAN devices to share verified component blocks [^11].

5. Legal & Compliance: Zero-Distribution Model

When distributed on GitHub, this architecture adopts a "Share Logic, Not Binaries" strategy to comply with EULA.
 * Community Contribution: Share only JSON-formatted DNA Maps and processing scripts; no copyrighted Microsoft files are included [^13].
 * Legal On-the-Fly Extraction: Scripts guide users to extract required binary components locally from official ISOs or the Microsoft Symbol Server [^14].
 * License Inheritance: Utilize the host machine's HWID digital binding to ensure the parasitic environment shares the legal license activation of the host.

6. Project Policy & Interaction Settings

 * Read-Only Research: This repository has disabled Issues, Discussions, and Wiki features. It does not accept feedback during the process.
 * Fork-Oriented: Readers who wish to implement this architecture should Fork the project and develop their own branches.
 * Summoning Witness: I will not actively monitor this project. If the vision becomes a reality, please mention (@) me in your Fork or external discussion; I will receive an email notification to witness the results.

ðŸ“š References

[^1]: Microsoft, "Dynamic-link library redirection".
[^4]: Microsoft, "WinSxS folder, component store".
[^5]: Superuser, "Directory junction vs Directory symbolic link on NTFS".
[^6]: Microsoft Learn, "Windows Defender Application Control (WDAC) deployment guide".
[^7]: Microsoft, "Windows Projected File System (ProjFS) overview".
[^8]: Microsoft, "PRJ_CALLBACK_DATA structure and TriggeringProcessId usage".
[^9]: Bruce Dawson, "Symbols the Microsoft Way".
[^11]: Microsoft, "Delivery Optimization reference (DODownloadMode)".
[^13]: Microsoft, "End-User License Agreement (EULA) Terms".
[^14]: Microsoft, "Using Microsoft Symbol Server to get symbols manually".




[æŠ€è¡“ç™½çš®æ›¸] Windows SDOSï¼šç„¡ç‹€æ…‹å¯„ç”Ÿæž¶æ§‹ä¹‹å¯¦å‹™å¯¦ä½œè¦ç¯„

> âš–ï¸ èª å¯¦è²æ˜Žèˆ‡æ³•å¾‹å…è²¬ (Disclaimer)

> æœ¬æ–‡ä»¶æè¿°ä¹‹æŠ€è¡“æ¡†æž¶æºæ–¼æœ¬äººä¹‹åˆå§‹æ§‹æƒ³ï¼Œä½†å…¨æ–‡æŠ€è¡“ç´°ç¯€ã€æž¶æ§‹åˆ†æžèˆ‡å¼•ç”¨ä¾†æºå‡ç”± Gemini Deep Research æ·±åº¦æ’°å¯«ç”Ÿæˆã€‚æœ¬äººéžè¨ˆç®—æ©Ÿç§‘å­¸å°ˆå®¶ï¼Œå°æ–‡ä¸­æ¶‰åŠä¹‹æŠ€è¡“å¯è¡Œæ€§ã€ç³»çµ±ç©©å®šæ€§åŠæ³•å¾‹é¢¨éšªï¼ˆåŒ…æ‹¬ä½†ä¸é™æ–¼ EULA ä¾µæ¬Šï¼‰ä¸è² ä»»ä½•å½¢å¼ä¹‹ä¿è­‰è²¬ä»»ã€‚æœ¬å°ˆæ¡ˆæŽ¡ Apache License 2.0 æŽˆæ¬Šï¼ŒæŒ‰ã€Œç¾ç‹€ã€(AS IS) æä¾›ã€‚æœ¬äººå°‡ä¸ä¸»å‹•ç¶­è­·æ­¤å„²å­˜åº«ä¸¦å·²é—œé–‰æ‰€æœ‰äº’å‹•åŠŸèƒ½ã€‚
> 

ä¸€ã€ ç·’è«–ï¼šWindows ä¸–ä»£æ¼”é€²ä¸­çš„ç›¸å®¹æ€§æ–·å±¤ (Introduction)

Windows çš„ç™¼å±•å²æ˜¯ä¸€å ´é—œæ–¼ã€Œç‹€æ…‹ç®¡ç†ã€èˆ‡ã€Œç’°å¢ƒéš”é›¢ã€çš„é¬¥çˆ­ã€‚
 * æŠ€è¡“ç—›é»žï¼šéš¨è‘— Windows 11 24H2 å¼•å…¥æ›´åš´è‹›çš„æ ¸å¿ƒéŽæ¿¾é©…å‹•è¦ç¯„èˆ‡ TPM 2.0 é™åˆ¶ï¼Œå‚³çµ±çš„ç‰©ç†å…‹éš†å·²ç„¡æ³•é©é…ç¾ä»£ç¡¬é«”ï¼ˆå¦‚ NVMe Gen5 æˆ– AI åŠ é€Ÿç¡¬é«”ï¼‰ã€‚
 * æ­·å²ä¾·é™ï¼š
   * XP æ™‚ä»£ï¼šå¼•å…¥ .local é‡å®šå‘å˜—è©¦è§£æ±ºã€ŒDLL åœ°ç„ã€ï¼Œé–‹å‰µ 1-to-1 éœæ…‹éš”é›¢å…ˆæ²³ã€‚
   * Win 7/10 æ™‚ä»£ï¼šWinSxS ç›®éŒ„åŠ‡çƒˆè†¨è„¹å°Žè‡´ç³»çµ±è‡ƒè…«ï¼Œå‚¬ç”Ÿã€Œæ¯ç›¤ + å·®åˆ†ç›¤ã€çš„ VHDX å¯„ç”Ÿæ€ç¶­ã€‚
 * è§£æ±ºè·¯å¾‘ï¼šå¾žã€Œç‰©ç†å…‹éš†ã€è½‰å‘ã€Œè»Ÿé«”å®šç¾©ã€ï¼Œå°‡ç³»çµ±åŠƒåˆ†ç‚ºå…·å‚™ç¡¬é«”æ„ŸçŸ¥èƒ½åŠ›çš„ã€Œå¯¦é«”éª¨æž¶ã€èˆ‡å…·å‚™è»Ÿé«”æ„ŸçŸ¥èƒ½åŠ›çš„ã€Œè™›æ“¬ DNA åœ°åœ–ã€ã€‚

äºŒã€ å¯¦é«”åŸºç¤Žå±¤ï¼š15GB VHDX éª¨æž¶ç³»çµ± (Physical Foundation)

ç‚ºäº†åœ¨ç¾ä»£ç¡¬é«”ä¸Šå•Ÿå‹•ï¼Œå¿…é ˆå…ˆå»ºç«‹ä¸€å€‹å¾®å°åŒ–ã€å…·å‚™ç¡¬é«”æ„ŸçŸ¥èƒ½åŠ›çš„å•Ÿå‹•æ ¸å¿ƒã€‚
 * æ ¸å¿ƒå›ºåŒ– (Storage Tuning)ï¼šé€éŽ DISM /ResetBase éŽ–æ­»çµ„ä»¶åº«ï¼Œå°‡æ ¸å¿ƒ VHDX ç©©å®šåœ¨ 5GB - 8GBã€‚
 * é‡å®šå‘ç­–ç•¥ï¼šåƒ…ä¿ç•™ \Windows æ–¼ C ç¢Ÿï¼Œåˆ©ç”¨ mklink /J å°‡ \Users æŒ‡å‘å¯¦é«”ç¡¬ç¢Ÿ D: æ§½ï¼Œç¢ºä¿è¨­å®šæŒä¹…åŒ–ä¸”ä¸ä½”ç”¨ VHDX ç©ºé–“ã€‚
 * è³‡æºå„ªåŒ–ï¼šåˆ©ç”¨ Diskpart é–‹æ©Ÿè…³æœ¬å°‡ Pagefile.sys ç§»è‡³å¯¦é«”ç£ç¢Ÿï¼Œä¸¦ç¦ç”¨ SysMain èˆ‡ Indexerï¼Œç¶­æŒé–‹æ©Ÿéœæ…‹ RAM å ç”¨æ–¼ 600MB - 900MBã€‚
 * WDAC ä¸»å‹•é˜²ç¦¦ï¼šå¯¦æ–½ Windows Defender Application Control (WDAC) ç™½åå–®ï¼Œå–ä»£è€—èƒ½çš„å¾Œå°å³æ™‚æŽƒæï¼Œå¤§å¹…ç¯€çœ CPU å¾ªç’°ã€‚

ä¸‰ã€ è»Ÿé«”å®šç¾©å±¤ï¼šåŸºæ–¼ ProjFS çš„å‹•æ…‹æŠ•å½± (SDOS)

é€™æ˜¯å°‡ã€Œæª”æ¡ˆå³ç³»çµ±ã€è½‰åŒ–ç‚ºã€ŒæŒ‡ä»¤å³ç³»çµ±ã€çš„æ ¸å¿ƒèºå‡ï¼Œå¯¦ç¾ç„¡ç‹€æ…‹ç’°å¢ƒçš„å³æ™‚å¯¦é«”åŒ–ã€‚
 * é€²ç¨‹æ„ŸçŸ¥æŠ•å½± (Process-Aware Projection)ï¼š
   * åˆ©ç”¨ ProjFS å›žå‘¼æ•¸æ“šä¸­çš„ TriggeringProcessIdã€‚
   * å‹•æ…‹é©é…é‚è¼¯ï¼šç•¶èˆŠè»Ÿé«” A è«‹æ±‚æ™‚æŠ•å½± Win7 ç‰ˆæœ¬ä¹‹ ntdll.dllï¼›ç•¶æ–°è»Ÿé«” B è«‹æ±‚æ™‚å‰‡æä¾›åŽŸç”Ÿ Win11 ä¹‹ ntdll.dllã€‚
 * 16 ä½å…ƒè½‰è­¯æ•´åˆï¼šé‡å° Win95/98 ä¸–ä»£è»Ÿé«”ï¼Œæ•´åˆè¼•é‡ç´š otvdm (winevdm) è½‰è­¯å±¤ï¼ˆç´„ 50MBï¼‰ï¼Œè³¦äºˆ 64 ä½å…ƒæ ¸å¿ƒåŽŸç”ŸåŸ·è¡Œ 16 ä½å…ƒæŒ‡ä»¤çš„èƒ½åŠ›ã€‚
 * 
å››ã€ è³‡æºæ ¸å¿ƒï¼šå…¨çƒçµ±ä¸€ DNA åœ°åœ– (Resource Core)

DNA åœ°åœ–æ˜¯æœ¬ç³»çµ±çš„éˆé­‚ï¼Œå®šç¾©äº†è·¨ä¸–ä»£äºŒé€²ä½æ–‡ä»¶çš„å…§å®¹å®šå€ç´¢å¼•ã€‚
 * DNA æ§‹å»ºé‚è¼¯ï¼š
   * è³‡æºæ± åŽ»é‡ï¼šåˆ©ç”¨ WIM å–®å¯¦ä¾‹å„²å­˜ (SIS) ç‰¹æ€§ï¼Œè·¨ä¸–ä»£çµ„ä»¶é‡è¤‡çŽ‡é€šå¸¸è¶…éŽ 85%ã€‚
   * è¦†è“‹ç­–ç•¥ï¼šä»¥å„ä¸–ä»£ç¬¬ä¸€å€‹ç‰ˆæœ¬ (RTM) ç‚ºåŸºæº–ï¼ŒæŽƒæå¾ŒçºŒæ‰€æœ‰ç´¯ç©æ›´æ–°è£œä¸ (LCU)ï¼Œæå–æ‰€æœ‰æ¼”åŒ– DNAã€‚
   * éµå€¼è¨ˆç®—ï¼šåŸºæ–¼ç¬¦è™Ÿèˆ‡é›œæ¹Šé‚è¼¯é€²è¡Œç²¾ç¢ºç´¢å¼•ã€‚
 * é«˜æ•ˆåˆ†ç™¼èˆ‡ P2Pï¼š
   * æœ¬åœ°å¿«å–ï¼šä¸‹è¼‰éŽçš„ DLL å­˜å„²æ–¼æœ¬åœ° \Resource_Poolã€‚
   * P2P çºŒå‚³ï¼šè¨­å®šè¨»å†Šè¡¨ DODownloadMode = 3ï¼Œåˆ©ç”¨ Windows å‚³éžå„ªåŒ– (DO) æŠ€è¡“è®“å€åŸŸç¶²è·¯è¨­å‚™å…±äº«çµ„ä»¶å¡Šã€‚

äº”ã€ æ³•å¾‹èˆ‡åˆè¦ï¼šé›¶åˆ†ç™¼ (Zero-Distribution) æ¨¡åž‹

æœ¬æž¶æ§‹åœ¨ GitHub åˆ†ç™¼æ™‚æŽ¡å–ã€Œåˆ†äº«é‚è¼¯ï¼Œä¸åˆ†ç™¼è‚‰é«”ã€çš„ç­–ç•¥ä»¥ç¬¦åˆ EULA è¦ç¯„ã€‚
 * ç¤¾ç¾¤è²¢ç»ï¼šåƒ…åˆ†äº« JSON æ ¼å¼çš„ DNA åœ°åœ–èˆ‡è™•ç†è…³æœ¬ï¼Œä¸å«ä»»ä½•å¾®è»Ÿç‰ˆæ¬Šæª”æ¡ˆã€‚
 * åˆæ³•ç¾å ´æå–ï¼šè…³æœ¬å¼•å°Žç”¨æˆ¶å¾žå®˜æ–¹ ISO æˆ– Microsoft Symbol Server ç¾å ´æå–æ‰€éœ€çš„äºŒé€²ä½çµ„ä»¶ã€‚
 * æŽˆæ¬Šç¹¼æ‰¿ï¼šåˆ©ç”¨åŽŸæ©Ÿ HWID æ•¸ä½ç¶å®šï¼Œç¢ºä¿å¯„ç”Ÿç’°å¢ƒèˆ‡ä¸»æ©Ÿå…±ç”¨åˆæ³•æŽˆæ¬Šå•Ÿå‹•ã€‚

å…­ã€ å°ˆæ¡ˆæ”¿ç­–èˆ‡äº’å‹•è¨­å®š (Project Policy)

 * å”¯è®€ç ”ç©¶ï¼šæœ¬å„²å­˜åº«å·²é—œé–‰ Issuesã€Discussions èˆ‡ Wiki åŠŸèƒ½ï¼Œä¸æŽ¥æ”¶ä»»ä½•éŽç¨‹ä¸­çš„åé¥‹ã€‚
 * Fork å°Žå‘ï¼šè®€è€…è‹¥æ¬²å¯¦è¸æ­¤æž¶æ§‹ï¼Œè«‹è‡ªè¡Œ Fork å°ˆæ¡ˆä¸¦ç™¼å±•å€‹äººåˆ†æ”¯ã€‚
 * å¬å–šè¦‹è­‰ï¼šæˆ‘ä¸æœƒä¸»å‹•é—œæ³¨æ­¤å°ˆæ¡ˆã€‚è‹¥é¡˜æ™¯æˆçœŸï¼Œè«‹åœ¨æ‚¨çš„ Fork æˆ–å¤–éƒ¨è¨Žè«–æ¨™è¨˜ (@) æˆ‘ï¼Œæˆ‘å°‡é€éŽéƒµä»¶é€šçŸ¥å‰ä¾†è¦‹è­‰æˆæžœã€‚


å¼•ç”¨æ–‡ç» (References)
 * [^1]: Microsoft, "Dynamic-link library redirection".
 * [^4]: Microsoft, "WinSxS folder, component store".
 * [^7]: Microsoft, "Windows Projected File System (ProjFS) overview".
 * [^9]: Bruce Dawson, "Symbols the Microsoft Way".
 * [^13]: Microsoft, "End-User License Agreement (EULA) Terms".
 * [^14]: Microsoft, "Using Microsoft Symbol Server to get symbols manually".







1. [å°ˆæ¡ˆæè¿°] (GitHub About Section)

> Full-fidelity Technical Whitepaper for Windows SDOS. A stateless parasitic architecture utilizing ProjFS and Content-Addressable DNA Maps. Deeply authored by Gemini Deep Research.
> 
2. [Topics æ¨™ç±¤] (GitHub Topics)

windows-internals projfs stateless-os architecture-whitepaper concept-only apache-2-0 operating-systems virtualization dna-maps research-paper

3. [SEO é—œéµå­—] (SEO Keywords)

Windows SDOS Architecture, ProjFS Virtualization Implementation, Stateless Parasitic OS, DNA Map Binary Indexing, Zero-Distribution Compliance Framework, Windows Component Offloading, Content-Addressable Storage for OS, Windows 11 24H2 Compatibility Research, ntdll.dll Redirection, DISM ResetBase Optimization.




# [Static Whitepaper] Windows SDOS: Stateless Parasitic Architecture

# [éœæ…‹æŠ€è¡“ç™½çš®æ›¸] Windows è»Ÿé«”å®šç¾©ä½œæ¥­ç³»çµ±ï¼šç„¡ç‹€æ…‹å¯„ç”Ÿæž¶æ§‹è¦ç¯„

> **ðŸ”’ ARCHIVED & READ-ONLY / å·²å°å­˜èˆ‡å”¯è®€è²æ˜Ž**

> **English:** This repository has been ARCHIVED. It is a static technical record of a conceptual framework. No further updates will be provided.

> **ä¸­æ–‡ï¼š** æœ¬å„²å­˜åº«å·²å°å­˜ã€‚æ­¤ç‚ºä¸€å¥—æ§‹æƒ³æ¡†æž¶çš„éœæ…‹æŠ€è¡“ç´€éŒ„ï¼Œæœªä¾†å°‡ä¸å†æä¾›ä»»ä½•æ›´æ–°ã€‚


> **âš–ï¸ FINAL DISCLAIMER / æœ€çµ‚å…è²¬è²æ˜Ž**

> **æœ¬äººéžæŠ€è¡“å°ˆå®¶ (I am not a technical expert).** >

 1. **Content Origin**: All technical details, reverse-engineering logic, and architectural specifications were **Deeply Authored by Gemini Deep Research**.

> 2. **No Binaries**: This project contains **ZERO** copyrighted binaries. It is a pure logic framework.

> 3. **License**: Provided "AS IS" under Apache License 2.0.

